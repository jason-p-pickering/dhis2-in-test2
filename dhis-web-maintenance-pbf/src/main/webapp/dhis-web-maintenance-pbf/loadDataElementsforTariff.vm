
<script >
$(function() {
var availableTags = $dataElementList;
$( "#dataElementName" ).autocomplete({
			source: availableTags,
			select: function( event, ui ) {
				for(var i=0;i<=availableTags.length-1;i++)
				{
					if(availableTags[i] == ui.item.value)
					{
						var dataElementName = ui.item.value;
        				$('#loadTariffDetails').load("loadTariffDetails.action", 
            				{
            					dataElementName:dataElementName,
								orgUnitUid:$("#orgUnitUid").val()
            				}
            				, function( ){            										
        				});
					}
				}
			
			}
			});
});
function getTariffData()
{
			var availableTags = $dataElementList;	
				for(var i=0;i<=availableTags.length-1;i++)
				{
					if(availableTags[i] == $("#dataElementName").val())
					{
						var dataElementName = $("#dataElementName").val();
        				$('#loadTariffDetails').load("loadTariffDetails.action", 
            				{
            					dataElementName:dataElementName,
								orgUnitUid:$("#orgUnitUid").val()
            				}
            				, function( ){            										
        				});
					}
				}
		
}

function organisationUnitSelected( orgUnits, orgUnitNames )
{
	var countryTags = $levelOrgUnitIds;
	var bValue = false;
	for(var i=0;i<=countryTags.length-1;i++)
	{
    	if(countryTags[i] == orgUnits[0] )
    	{
    		bValue = true;
    	}
	}
	if(bValue == false)
	{
		alert('Please Select Correct level OrgUnit');
	}
	else
	{
		setFieldValue("orgUnit", orgUnitNames[0]);
		setFieldValue("orgUnitUid", orgUnits[0]);
	}
	
}

selection.setListenerFunction( organisationUnitSelected );
</script>
<h3>Data Element Tariff Management</h3>
<input type="hidden" name="orgUnitUid" id="orgUnitUid">
<table width="60%">
	<tr>
		<td >Orgainsation Unit <input type="text" id="orgUnit" name="orgUnit" readonly size="40"/></td>
		<td >Tariff Setting Authority <input type="text" readonly id="tariff_authority" value="$!tariff_setting_authority"/></td>
	</tr>
	<tr >
		<td >&nbsp;</td>
		<td >&nbsp;</td>
    </tr>
	<tr>
		<td ><input id="dataElementName" name="dataElementName" onkeyup="getTariffData()" size="55" placeholder="Type the name of dataelement" /> &nbsp;</td>
		<td ><input type="button" id="addDataElement" value="Add DataElement" disabled /></td>
	</tr>
</table>
<br/><br/><br/>
<div id="loadTariffDetails" style="width:80%"></div>
	